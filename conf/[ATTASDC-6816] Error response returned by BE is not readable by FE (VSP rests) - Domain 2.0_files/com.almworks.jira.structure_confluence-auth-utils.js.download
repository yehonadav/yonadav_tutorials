;
/* module-key = 'com.almworks.jira.structure:confluence-auth-utils', location = 'js/structure/confluence-util.js' */
define("structure/confluence/ConfluenceLoginWindow",["almworks/jquery","underscore","almworks/util/Util"],function(n,p,a){function l(a,b,e,f){return window.open(a,b,"scrollbars=no, width="+e+", height="+f+", top="+((window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-f/2+(void 0!==window.screenTop?window.screenTop:screen.top))+", left="+((window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:
screen.width)/2-e/2+(void 0!==window.screenLeft?window.screenLeft:screen.left)))}function g(d,b){function e(a){h.closed&&(clearInterval(k),a())}function f(){window.location.reload()}if(h=l(d,a.text("s.w.confluence.auth.login.popup.title"),640,520))return k=setInterval(a.curry(e,b?b:f),200),!1;var c=new m.Dialog({width:500,height:300,closeOnOutsideClick:!0});c.addHeader(a.text("s.w.confluence.auth.login.popup.prevented.warning.title"));var g=a.renderTemplate('<p>{s.w.confluence.auth.login.popup.prevented.warning}</p><a href="{url}">{url}</a>',
{url:d});c.addPanel("",g,null);c.addButton(a.text("s.w.confluence.auth.login.popup.prevented.warning.button.ok"),function(){c.hide()},"aui-button aui-button-primary");c.show()}var m=a.requireGlobal("AJS"),h=null,k=null;return function(d,b){a.extend(this,{show:function(){return g(d,b)}})}});
;